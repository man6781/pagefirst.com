#include<bits/stdc++.h>
#define ll  int
using namespace std;

int main(){
int  t;
cin>>t;
   while(t--){
    ll n,k,sum=0;
    cin>>n>>k;
    string s;
    cin>>s;
   
    ll i=0,j=0;
    
    while(i<n and j<n){
        if(s[i]=='M'){
    
       if(s[j]=='X'){
           i=j+1;
           j=j+1;
       }
       
       else if(s[j]=='I'){
           ll sh=0;
           ll x=min(i,j);
           ll y=max(i,j);
           for(ll i1=x;i1<=y;i1++){
               if(s[i1]==':'){
                   sh++;
               }
           }
           if((k+1-abs(j-i)-sh)>0){
             sum++;
             i++;
             j++;
             
           }
        
           else{
               if(i<j){
                   i++;
               }
               else{
                   j++;
               }
           }
       }
       else{
           j++;
       }
    }
    else if(s[i]=='X'){
        j=i+1;
        i=i+1;
    }
    
    else{
        i++;
    }
    
    }
    
    cout<<sum<<endl;
  }
}
